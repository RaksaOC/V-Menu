{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 119, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/Work/Development/Websites/v-menu/src/app/%5Bres%5D/customer/%5Btable%5D/cart/CartItemCard.tsx"],"sourcesContent":["// components/CartItem.tsx\nimport React, {useState} from \"react\";\nimport {Trash} from \"lucide-react\";\nimport {CartItem} from \"@/app/shared/types/CartItem\";\nimport {ItemBase} from \"@/app/shared/types/Item\";\n\ntype CartItemProps = {\n    cartItem: CartItem;\n    index: number;\n    increaseQuantity: (index: number) => void;\n    decreaseQuantity: (index: number) => void;\n    removeItem: (index: number) => void;\n};\n\nconst CartItemCard = ({cartItem, index, increaseQuantity, decreaseQuantity, removeItem}: CartItemProps) => {\n    // const [menuItem, setMenuItems] = useState<Item>(item.item);\n    const menuItem : ItemBase = (cartItem.item);\n    return (\n        <div\n            key={index}\n            className=\"bg-white rounded-xl shadow-md flex items-center p-4 gap-4 flex-wrap justify-center md:justify-between\"\n        >\n            <img\n                src={menuItem.image}\n                alt={menuItem.name}\n                className=\"w-20 h-20 object-cover rounded-lg\"\n            />\n            <div className=\"flex-1 min-w-1/4\">\n                <h2 className=\"font-semibold text-s\">{menuItem.name}</h2>\n                <p className=\"text-gray-600\">\n                    ${Number(menuItem.price * cartItem.quantity).toFixed(2)}\n                </p>\n            </div>\n            <div className=\"flex items-center gap-0.5\">\n                <button\n                    onClick={() => decreaseQuantity(index)}\n                    className=\"bg-gray-300 hover:bg-gray-400 text-black text-sm font-bold w-8 h-8 rounded-full flex items-center justify-center\"\n                >\n                    -\n                </button>\n\n                <span className=\"font-semibold text-base w-6 text-center\">\n          {cartItem.quantity}\n        </span>\n\n                <button\n                    onClick={() => increaseQuantity(index)}\n                    className=\"bg-gray-300 hover:bg-gray-400 text-black text-sm font-bold w-8 h-8 rounded-full flex items-center justify-center\"\n                >\n                    +\n                </button>\n\n                <button\n                    onClick={() => removeItem(index)}\n                    className=\"ml-2 w-6 h-6 flex items-center justify-center cursor-pointer\"\n                >\n                    <Trash size={20} color={\"red\"} />\n                </button>\n            </div>\n        </div>\n    );\n};\n\nexport default CartItemCard;\n"],"names":[],"mappings":"AAAA,0BAA0B;;;;;AAE1B;;;AAYA,MAAM,eAAe,CAAC,EAAC,QAAQ,EAAE,KAAK,EAAE,gBAAgB,EAAE,gBAAgB,EAAE,UAAU,EAAgB;IAClG,8DAA8D;IAC9D,MAAM,WAAuB,SAAS,IAAI;IAC1C,qBACI,8OAAC;QAEG,WAAU;;0BAEV,8OAAC;gBACG,KAAK,SAAS,KAAK;gBACnB,KAAK,SAAS,IAAI;gBAClB,WAAU;;;;;;0BAEd,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAwB,SAAS,IAAI;;;;;;kCACnD,8OAAC;wBAAE,WAAU;;4BAAgB;4BACvB,OAAO,SAAS,KAAK,GAAG,SAAS,QAAQ,EAAE,OAAO,CAAC;;;;;;;;;;;;;0BAG7D,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBACG,SAAS,IAAM,iBAAiB;wBAChC,WAAU;kCACb;;;;;;kCAID,8OAAC;wBAAK,WAAU;kCACrB,SAAS,QAAQ;;;;;;kCAGZ,8OAAC;wBACG,SAAS,IAAM,iBAAiB;wBAChC,WAAU;kCACb;;;;;;kCAID,8OAAC;wBACG,SAAS,IAAM,WAAW;wBAC1B,WAAU;kCAEV,cAAA,8OAAC,oMAAA,CAAA,QAAK;4BAAC,MAAM;4BAAI,OAAO;;;;;;;;;;;;;;;;;;OArC3B;;;;;AA0CjB;uCAEe","debugId":null}},
    {"offset": {"line": 259, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/Work/Development/Websites/v-menu/src/app/%5Bres%5D/customer/%5Btable%5D/cart/page.tsx"],"sourcesContent":["'use client'\n\nimport {useEffect, useState} from \"react\";\nimport {toast, ToastContainer} from \"react-toastify\"; // âœ… fixed import\nimport axios from \"axios\";\nimport CartItemCard from \"@/app/[res]/customer/[table]/cart/CartItemCard\";\nimport {CartItem} from \"@/app/shared/types/CartItem\";\nimport {OrderInput} from \"@/app/shared/types/Order\";\nimport {useRouter} from \"next/navigation\";\n\nexport default function CartPage() {\n    const router = useRouter();\n    const [cartItems, setCartItems] = useState<CartItem[]>([]);\n\n    useEffect(() => {\n        const savedCart = localStorage.getItem(\"cartItems\");\n        if (savedCart) {\n            setCartItems(JSON.parse(savedCart));\n        }\n    }, []);\n\n    const updateCart = (updatedItems: CartItem[]) => {\n        setCartItems(updatedItems);\n        localStorage.setItem(\"cartItems\", JSON.stringify(updatedItems));\n    };\n\n    const increaseQuantity = (index: number) => {\n        const updatedItems = [...cartItems];\n        updatedItems[index].quantity += 1;\n        updateCart(updatedItems);\n    };\n\n    const decreaseQuantity = (index: number) => {\n        const updatedItems = [...cartItems];\n        if (updatedItems[index].quantity > 1) {\n            updatedItems[index].quantity -= 1;\n            updateCart(updatedItems);\n        }\n    };\n\n    const removeItem = (index: number) => {\n        const updatedItems = [...cartItems];\n        updatedItems.splice(index, 1);\n        updateCart(updatedItems);\n    };\n\n    const total = cartItems.reduce((sum, item) => sum + item.item.price * item.quantity, 0);\n\n    const placeOrder = async () => {\n        if (!cartItems.length) {\n            toast.error(\"No items in cart!\", {\n                position: \"top-center\",\n                autoClose: 1000,\n                hideProgressBar: true,\n                closeOnClick: true,\n                pauseOnHover: false,\n                draggable: false,\n                theme: \"light\",\n            });\n            return;\n        }\n\n        try {\n            const table : string = JSON.parse(localStorage.getItem(\"table\") || \"\") || \"\";\n            const orderToAdd: OrderInput = {\n                table: table,\n                isDone: false,\n                orderedItems: cartItems,\n            }\n            await axios.post(\"/api/customer\", orderToAdd);\n\n            toast.success(\"Order has been placed!\", {\n                position: \"top-center\",\n                autoClose: 1000,\n                hideProgressBar: true,\n                closeOnClick: true,\n                pauseOnHover: false,\n                draggable: false,\n                theme: \"light\",\n            });\n\n            setTimeout(() => {\n                setCartItems([]);\n                localStorage.removeItem(\"cartItems\");\n                router.back();\n            }, 1000);\n\n        } catch (error) {\n            console.error(\"Order failed:\", error);\n            toast.error(\"Failed to place order.\", {\n                position: \"top-center\",\n                autoClose: 1000,\n                theme: \"light\",\n            });\n        }\n    };\n\n    return (\n        <div className=\"relative min-h-screen p-4 pb-32 bg-gray-100 flex flex-col justify-start items-center\">\n            <div className=\"header-wrapper w-full\">\n                <div className=\"header justify-between flex flex-row w-full items-center md:max-w-[50%]\">\n                    <button\n                        onClick={() => router.back()}\n                        className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-xl h-[40px]\"\n                    >\n                        Go Back\n                    </button>\n                    <h1 className=\"text-2xl font-bold text-center mb-0\">Your Cart</h1>\n                </div>\n            </div>\n\n            <div className=\"flex flex-col gap-4 w-[98%] mt-14\">\n                {cartItems.length > 0 ? (\n                    cartItems.map((cartItem, index) => (\n                        <CartItemCard\n                            key={index}\n                            cartItem={cartItem}\n                            index={index}\n                            increaseQuantity={increaseQuantity}\n                            decreaseQuantity={decreaseQuantity}\n                            removeItem={removeItem}\n                        />\n                    ))\n                ) : (\n                    <h1 className=\"mt-[40vh] text-4xl text-center\">Cart is Empty</h1>\n                )}\n            </div>\n\n            {/* Fixed bottom bar */}\n            <div\n                className=\"fixed bottom-0 left-0 w-full bg-white border-t border-gray-300 flex items-center justify-between p-4\">\n                <div className=\"text-lg font-bold\">\n                    Total: ${total.toFixed(2)}\n                </div>\n                <button\n                    onClick={placeOrder}\n                    className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-xl\"\n                >\n                    Place Order\n                </button>\n            </div>\n            <ToastContainer></ToastContainer>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}