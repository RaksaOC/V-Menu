{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/Work/Development/Websites/v-menu/src/app/%5Bres%5D/customer/%5Btable%5D/ItemCard.tsx"],"sourcesContent":["import {toast} from \"react-toastify\";\nimport 'react-toastify/dist/ReactToastify.css'; // important to import the styles\nimport {ItemInput, ItemOutput} from \"@/app/shared/types/Item\";\nimport {CartItem} from \"@/app/shared/types/CartItem\";\n\nexport function addToCart(itemToAdd: CartItem): void {\n    // Get existing items or fallback to empty array\n    const storedCartItems = localStorage.getItem(\"cartItems\");\n    const allCartItems: CartItem[] = storedCartItems ? JSON.parse(storedCartItems) : [];\n\n    // Check if item exists\n    const existingItemIndex = allCartItems.findIndex(cartItem => cartItem.item._id === itemToAdd.item._id);\n\n    if (existingItemIndex !== -1) {\n        // Increment quantity\n        allCartItems[existingItemIndex].quantity += 1;\n\n        toast.success(\"Added to existing item!\", {\n            position: \"top-center\",\n            autoClose: 1000,\n            hideProgressBar: true,\n            closeOnClick: true,\n            pauseOnHover: false,\n            draggable: false,\n            theme: \"light\",\n        });\n    } else {\n        allCartItems.push(itemToAdd);\n\n        toast.success(\"Added to cart!\", {\n            position: \"top-center\",\n            autoClose: 1000,\n            hideProgressBar: true,\n            closeOnClick: true,\n            pauseOnHover: false,\n            draggable: false,\n            theme: \"light\",\n        });\n    }\n\n    // Save updated items\n    localStorage.setItem(\"cartItems\", JSON.stringify(allCartItems));\n    console.log(allCartItems);\n}\n\ninterface CardProps {\n    _id: string;\n    name: string;\n    price: number;\n    image: string;\n}\n\nfunction Card({_id, name, price, image}: CardProps) {\n    return (\n        <div\n            className=\"max-w-[100%] rounded-2xl overflow-hidden shadow-lg bg-white hover:scale-105 transition-transform duration-300\">\n            <img className=\"w-full h-48 object-cover\" src={image} alt={name}/>\n            <div className=\"p-4\">\n                <h3 className=\"text-xl font-bold text-gray-800 mb-2\">{name}</h3>\n                <p className=\"text-gray-600 mb-4\">${price.toFixed(2)}</p>\n                <button\n                    className=\"w-full bg-green-500 hover:bg-green-600 text-white font-semibold py-2 px-4 rounded-xl cursor-pointer\"\n                    onClick={() => {\n                        const item: ItemOutput = {\n                            _id: _id,\n                            image: image,\n                            name: name,\n                            price: parseInt(price.toFixed(2)),\n                            isEnabled: true,\n                        }\n\n                        const cartItem = {\n                            item: item,\n                            quantity: 1,\n                        }\n\n                        addToCart(cartItem);\n                    }}>\n                    Add to Cart\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default Card;\n"],"names":[],"mappings":";;;;;AAAA;;;;AAKO,SAAS,UAAU,SAAmB;IACzC,gDAAgD;IAChD,MAAM,kBAAkB,aAAa,OAAO,CAAC;IAC7C,MAAM,eAA2B,kBAAkB,KAAK,KAAK,CAAC,mBAAmB,EAAE;IAEnF,uBAAuB;IACvB,MAAM,oBAAoB,aAAa,SAAS,CAAC,CAAA,WAAY,SAAS,IAAI,CAAC,GAAG,KAAK,UAAU,IAAI,CAAC,GAAG;IAErG,IAAI,sBAAsB,CAAC,GAAG;QAC1B,qBAAqB;QACrB,YAAY,CAAC,kBAAkB,CAAC,QAAQ,IAAI;QAE5C,mJAAA,CAAA,QAAK,CAAC,OAAO,CAAC,2BAA2B;YACrC,UAAU;YACV,WAAW;YACX,iBAAiB;YACjB,cAAc;YACd,cAAc;YACd,WAAW;YACX,OAAO;QACX;IACJ,OAAO;QACH,aAAa,IAAI,CAAC;QAElB,mJAAA,CAAA,QAAK,CAAC,OAAO,CAAC,kBAAkB;YAC5B,UAAU;YACV,WAAW;YACX,iBAAiB;YACjB,cAAc;YACd,cAAc;YACd,WAAW;YACX,OAAO;QACX;IACJ;IAEA,qBAAqB;IACrB,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACjD,QAAQ,GAAG,CAAC;AAChB;AASA,SAAS,KAAK,EAAC,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAY;IAC9C,qBACI,8OAAC;QACG,WAAU;;0BACV,8OAAC;gBAAI,WAAU;gBAA2B,KAAK;gBAAO,KAAK;;;;;;0BAC3D,8OAAC;gBAAI,WAAU;;kCACX,8OAAC;wBAAG,WAAU;kCAAwC;;;;;;kCACtD,8OAAC;wBAAE,WAAU;;4BAAqB;4BAAE,MAAM,OAAO,CAAC;;;;;;;kCAClD,8OAAC;wBACG,WAAU;wBACV,SAAS;4BACL,MAAM,OAAmB;gCACrB,KAAK;gCACL,OAAO;gCACP,MAAM;gCACN,OAAO,SAAS,MAAM,OAAO,CAAC;gCAC9B,WAAW;4BACf;4BAEA,MAAM,WAAW;gCACb,MAAM;gCACN,UAAU;4BACd;4BAEA,UAAU;wBACd;kCAAG;;;;;;;;;;;;;;;;;;AAMvB;uCAEe","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///Users/raksa/Work/Development/Websites/v-menu/src/app/%5Bres%5D/customer/%5Btable%5D/page.tsx"],"sourcesContent":["'use client';\n\nimport ItemCard from \"@/app/[res]/customer/[table]/ItemCard\";\nimport {ShoppingCart} from \"lucide-react\"\nimport {ItemOutput} from \"@/app/shared/types/Item\";\nimport Link from \"next/link\";\nimport {useParams} from \"next/navigation\";\nimport {useEffect, useState} from \"react\";\nimport axios from \"axios\";\nimport {ToastContainer} from \"react-toastify\";\n\nexport default function CustomerPage() {\n    const [items, setItems] = useState<ItemOutput[]>([]);\n    useEffect(() => {\n        const fetchItems = async () => {\n            try {\n                const res = await axios.get(\"/api/customer\");\n                const data = await res.data;\n                setItems(data.filter((item: ItemOutput) => item.isEnabled));\n            } catch (err) {\n                console.log(err);\n            }\n        }\n        fetchItems();\n    }, []);\n\n    const params = useParams()\n    const table = params.table;\n    localStorage.setItem(\"table\", JSON.stringify(table));\n\n    console.log(\"I'm at \", table);\n\n    return (\n        <div className={\" customer w-full h-full bg-white relative pb-24\"}>\n            <header className=\"header p-2.5\">\n                <p className=\"text-center text-black text-3xl\">V-Menu Customer</p>\n            </header>\n            <div\n                className=\"container max-w-[1024px] mx-auto p-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 \">\n                {\n                    items.map((item, index) => (\n                        <ItemCard key={index} _id={item._id} name={item.name} image={item.image} price={item.price}/>\n                    ))\n                }\n            </div>\n\n            {/* Bottom fixed cart bar */}\n            <div\n                className=\"fixed bottom-0 left-0 w-full bg-white border-t border-gray-300 flex items-center justify-between p-4\">\n                <ShoppingCart size={20} color={\"#000000\"}/>\n                <Link href={`/${params.res}/customer/${params.table}/cart`}>\n                    <button className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-6 rounded-xl\">\n                        View Cart\n                    </button>\n                </Link>\n            </div>\n            <ToastContainer></ToastContainer>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AATA;;;;;;;;;AAWe,SAAS;IACpB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAgB,EAAE;IACnD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,aAAa;YACf,IAAI;gBACA,MAAM,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC;gBAC5B,MAAM,OAAO,MAAM,IAAI,IAAI;gBAC3B,SAAS,KAAK,MAAM,CAAC,CAAC,OAAqB,KAAK,SAAS;YAC7D,EAAE,OAAO,KAAK;gBACV,QAAQ,GAAG,CAAC;YAChB;QACJ;QACA;IACJ,GAAG,EAAE;IAEL,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,QAAQ,OAAO,KAAK;IAC1B,aAAa,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC;IAE7C,QAAQ,GAAG,CAAC,WAAW;IAEvB,qBACI,8OAAC;QAAI,WAAW;;0BACZ,8OAAC;gBAAO,WAAU;0BACd,cAAA,8OAAC;oBAAE,WAAU;8BAAkC;;;;;;;;;;;0BAEnD,8OAAC;gBACG,WAAU;0BAEN,MAAM,GAAG,CAAC,CAAC,MAAM,sBACb,8OAAC,2JAAA,CAAA,UAAQ;wBAAa,KAAK,KAAK,GAAG;wBAAE,MAAM,KAAK,IAAI;wBAAE,OAAO,KAAK,KAAK;wBAAE,OAAO,KAAK,KAAK;uBAA3E;;;;;;;;;;0BAM3B,8OAAC;gBACG,WAAU;;kCACV,8OAAC,sNAAA,CAAA,eAAY;wBAAC,MAAM;wBAAI,OAAO;;;;;;kCAC/B,8OAAC,4JAAA,CAAA,UAAI;wBAAC,MAAM,CAAC,CAAC,EAAE,OAAO,GAAG,CAAC,UAAU,EAAE,OAAO,KAAK,CAAC,KAAK,CAAC;kCACtD,cAAA,8OAAC;4BAAO,WAAU;sCAA4E;;;;;;;;;;;;;;;;;0BAKtG,8OAAC,mJAAA,CAAA,iBAAc;;;;;;;;;;;AAG3B","debugId":null}}]
}